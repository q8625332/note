**å®‰è£… wsl2**

WSL2 éœ€è¦è¾ƒæ–°çš„ Windows ç‰ˆæœ¬ã€‚

- **Windows 10**: ç‰ˆæœ¬ 2004 æˆ–æ›´é«˜ (å†…éƒ¨ç‰ˆæœ¬ 19041 åŠæ›´é«˜)ã€‚
- **Windows 11**: æ‰€æœ‰ç‰ˆæœ¬éƒ½æ”¯æŒã€‚

å‘½ä»¤ï¼š

**`wsl --install`**

å®‰è£…å®Œï¼šè®¾ç½®wsl2

```text
wsl --set-default-version 2
```

WSL2 éœ€è¦ CPU çš„ç¡¬ä»¶è™šæ‹ŸåŒ–æ”¯æŒã€‚ç»å¤§å¤šæ•°ç°ä»£ç”µè„‘éƒ½æ”¯æŒï¼Œä½†æœ‰æ—¶é»˜è®¤æ˜¯å…³é—­çš„ã€‚

**å¦‚ä½•æ£€æŸ¥ï¼Ÿ**

- æŒ‰ä¸‹Â `Ctrl`Â +Â `Shift`Â +Â `Esc`Â æ‰“å¼€â€œä»»åŠ¡ç®¡ç†å™¨â€ã€‚
- åˆ‡æ¢åˆ°â€œæ€§èƒ½â€é€‰é¡¹å¡ã€‚
- ç‚¹å‡»â€œCPUâ€ã€‚
- åœ¨å³ä¸‹è§’æ‰¾åˆ°â€œè™šæ‹ŸåŒ–â€ä¸€é¡¹ï¼Œç¡®ä¿å®ƒæ˜¾ç¤ºä¸ºÂ **â€œå·²å¯ç”¨â€**ã€‚

å®Œæˆä¸Šé¢çš„æ­¥éª¤å°±å¯ä»¥å®‰è£…WSL2äº†ã€‚

**é‡å¯ç”µè„‘** å‘½ä»¤æ‰§è¡Œå®Œæ¯•åï¼Œä¼šæç¤ºä½ éœ€è¦é‡å¯ç”µè„‘ä»¥å®Œæˆå®‰è£…ã€‚è¯·ä¿å­˜å¥½ä½ çš„å·¥ä½œï¼Œç„¶åé‡å¯ã€‚


é‡å¯åï¼Œå®‰è£…è¿‡ç¨‹ä¼šè‡ªåŠ¨ç»§ç»­ã€‚

1. **è‡ªåŠ¨å¯åŠ¨ Ubuntu**
    
    - ç³»ç»Ÿé‡å¯åï¼Œä¸€ä¸ª Ubuntu çš„å‘½ä»¤è¡Œçª—å£å¯èƒ½ä¼šè‡ªåŠ¨å¼¹å‡ºï¼Œå¹¶æ˜¾ç¤º "Installing, this may take a few minutes..."ã€‚
    - å¦‚æœå®ƒæ²¡æœ‰è‡ªåŠ¨å¼¹å‡ºï¼Œä½ å¯ä»¥æ‰‹åŠ¨ç‚¹å‡»â€œå¼€å§‹â€èœå•ï¼Œæ‰¾åˆ°æ–°å®‰è£…çš„â€œUbuntuâ€ç¨‹åºå¹¶å¯åŠ¨å®ƒã€‚
2. **åˆ›å»º Linux ç”¨æˆ·**
    
    - ç­‰å¾…å®‰è£…å®Œæˆåï¼Œç³»ç»Ÿä¼šæç¤ºä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ UNIX ç”¨æˆ·ã€‚
    - è¾“å…¥ä½ æƒ³è¦çš„Â **ç”¨æˆ·å**Â (username)ï¼Œç„¶åæŒ‰å›è½¦ã€‚
    - è¾“å…¥å¹¶ç¡®è®¤ä½ çš„Â **å¯†ç **Â (password)ã€‚è¾“å…¥å¯†ç æ—¶å±å¹•ä¸Šä¸ä¼šæ˜¾ç¤ºä»»ä½•å­—ç¬¦ï¼Œè¿™æ˜¯ Linux çš„æ­£å¸¸å®‰å…¨æœºåˆ¶ï¼Œä½ åªç®¡è¾“å…¥ç„¶åå›è½¦å³å¯ã€‚
    - **éå¸¸é‡è¦**ï¼šè¿™ä¸ªç”¨æˆ·åå’Œå¯†ç æ˜¯ä½ åœ¨è¿™ä¸ª Linux ç¯å¢ƒä¸‹çš„ç®¡ç†å‘˜ï¼ˆsudoerï¼‰è´¦æˆ·ï¼Œå®ƒä¸ä½ çš„ Windows è´¦æˆ·æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚è¯·ç‰¢è®°å®ƒã€‚
3. **æ›´æ–°ä½ çš„ Linux ç³»ç»Ÿ (æ¨è)** åˆ›å»ºå®Œç”¨æˆ·åï¼Œä½ å°±è¿›å…¥äº† Ubuntu çš„å‘½ä»¤è¡Œã€‚ä½œä¸ºæœ€ä½³å®è·µï¼Œå»ºè®®ç«‹å³æ›´æ–°ä¸€ä¸‹è½¯ä»¶åŒ…åˆ—è¡¨å’Œå·²å®‰è£…çš„è½¯ä»¶ï¼š
    
     

```bash
sudo apt update && sudo apt upgrade
```

    
    ç³»ç»Ÿä¼šè¦æ±‚ä½ è¾“å…¥åˆšæ‰è®¾ç½®çš„å¯†ç æ¥æˆæƒ `sudo` å‘½ä»¤ã€‚
    

**æ­å–œï¼è‡³æ­¤ï¼Œä½ å·²ç»æˆåŠŸåœ¨ Windows ä¸Šå®‰è£…å¹¶é…ç½®å¥½äº† WSL2 å’Œ Ubuntuï¼** ğŸš€

### åç»­å’Œå¼€å‘æŠ€å·§

ä¸ºäº†æ›´å¥½çš„å¼€å‘ä½“éªŒï¼Œå¼ºçƒˆæ¨èä»¥ä¸‹å‡ æ­¥ï¼š

1. **å®‰è£… Windows Terminal**
    
    - ä» Microsoft Store æœç´¢å¹¶å®‰è£…Â **"Windows Terminal"**ã€‚
    - å®ƒæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ã€æ”¯æŒå¤šæ ‡ç­¾é¡µçš„ç»ˆç«¯å·¥å…·ï¼Œå¯ä»¥åŒæ—¶ç®¡ç† PowerShell, CMD, å’Œå¤šä¸ªä¸åŒçš„ WSL Linux å‘è¡Œç‰ˆï¼Œä½“éªŒè¿œè¶…åŸç”Ÿå‘½ä»¤è¡Œã€‚
2. **VS Code ä¸ WSL æ— ç¼é›†æˆ**
    
    - åœ¨ Windows ä¸Šå®‰è£… Visual Studio Codeã€‚
    - æ‰“å¼€ VS Codeï¼Œåœ¨æ‰©å±•å•†åº—ä¸­æœç´¢å¹¶å®‰è£…Â **"Remote - WSL"**Â æ‰©å±•ã€‚
    - å®‰è£…åï¼Œç‚¹å‡» VS Code å·¦ä¸‹è§’çš„ç»¿è‰²å›¾æ ‡ï¼Œé€‰æ‹© "Connect to WSL"ï¼Œä½ å°±å¯ä»¥ç›´æ¥åœ¨ Windows çš„ VS Code ç•Œé¢ä¸­ï¼Œç¼–å†™å’Œè¿è¡Œä½äº Linux å­ç³»ç»Ÿä¸­çš„ä»£ç äº†ï¼è¿™æ˜¯ WSL æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚
3. **æ–‡ä»¶ç³»ç»Ÿäº’è®¿**
    
    - **åœ¨ Windows ä¸­è®¿é—® Linux æ–‡ä»¶**: æ‰“å¼€æ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼Œåœ¨åœ°å€æ è¾“å…¥Â `\\wsl$`Â å¹¶å›è½¦ï¼Œä½ å°±èƒ½çœ‹åˆ°æ‰€æœ‰å·²å®‰è£…çš„ Linux å‘è¡Œç‰ˆçš„æ–‡ä»¶ç³»ç»Ÿã€‚
    - **åœ¨ Linux ä¸­è®¿é—® Windows æ–‡ä»¶**: ä½ çš„ Windows ç›˜ç¬¦ä¼šè‡ªåŠ¨æŒ‚è½½åˆ° Linux çš„Â `/mnt/`Â ç›®å½•ä¸‹ã€‚ä¾‹å¦‚ï¼Œä½ çš„ C ç›˜å°±æ˜¯Â `/mnt/c`ï¼ŒD ç›˜å°±æ˜¯Â `/mnt/d`ã€‚

ç°åœ¨ï¼Œä½ å°±å¯ä»¥åœ¨ WSL2 çš„ Ubuntu ç¯å¢ƒä¸­å®‰è£… GraalVMã€Maven/Gradleã€Java ç­‰å·¥å…·ï¼Œäº«å—åŸç”Ÿ Linux èˆ¬çš„æµç•…å¼€å‘ä½“éªŒäº†ï¼


## é”™è¯¯èƒŒæ™¯åˆ†æ

> # è§£å†³ WSL å®‰è£…æŠ¥é”™è¯¯ä»£ç : é”™è¯¯ä»£ç : Wsl/InstallDistro/Service/RegisterDistro/CreateVm/HCS/HCS_E_SERVICE_NOT_AVAILABLE


**å½“åœ¨ Windows ç³»ç»Ÿæ‰§è¡Œ wsl --install å®‰è£… Linux çš„ Windows å­ç³»ç»Ÿ (WSL) æ—¶ï¼Œå¯èƒ½é­é‡ä»¥ä¸‹å…³é”®é”™è¯¯ï¼š**


```bash
é”™è¯¯ä»£ç : Wsl/InstallDistro/Service/RegisterDistro/CreateVm/HCS/HCS_E_SERVICE_NOT_AVAILABLE
```


è¯¥é”™è¯¯é€šå¸¸ä¸ è™šæ‹Ÿæœºå¹³å° åŠŸèƒ½æœªæ­£ç¡®å¯ç”¨æˆ–ç³»ç»Ÿç‰ˆæœ¬è¿‡ä½æœ‰å…³ï¼Œæœ¬æ–‡å°†å½»åº•è§£å†³è¯¥é—®é¢˜ã€‚

## ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€åŠŸèƒ½éªŒè¯

### æ­¥éª¤ 1ï¼šå¯ç”¨æ ¸å¿ƒç»„ä»¶

1.æŒ‰ä¸‹Â WinÂ é”®ï¼Œæœç´¢ appwiz.cpl å›è½¦  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/716f97f892e4410482f5b83b945dab48.png)

2.é€‰æ‹© å¯ç”¨æˆ–å…³é—­Â WindowsÂ åŠŸèƒ½  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/87ffe65f4ec04606b8276bde1228715d.png)

3.å‹¾é€‰ä»¥ä¸‹ä¸¤é¡¹ï¼ˆå¿…é¡»é‡å¯ï¼‰ï¼š  
âœ… è™šæ‹Ÿæœºå¹³å°  
âœ… é€‚ç”¨äºÂ LinuxÂ çš„ Windows å­ç³»ç»Ÿ  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/10fc97a107bf459ebf713065b64dfa0f.png)

### æ­¥éª¤ 2ï¼šå¼ºåˆ¶å¯ç”¨è™šæ‹ŸåŒ–åŠŸèƒ½

åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ‰“å¼€ PowerShell æˆ– Windows å‘½ä»¤æç¤ºç¬¦


```bash
dism.exe /Online /Enable-Feature /FeatureName:VirtualMachinePlatform /All
```

 å®Œç»“